{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"vscode\"","webpack:///./src/extension.ts","webpack:///./src/memfs.ts","webpack:///./src/http.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","updateDiagnostics","document","collection","fileName","set","uri","code","message","range","vscode","Range","Position","severity","DiagnosticSeverity","Error","source","relatedInformation","DiagnosticRelatedInformation","Location","Warning","clear","context","navigator","memFs","MemFS","subscriptions","push","enableFs","seed","languages","createDiagnosticCollection","window","activeTextEditor","onDidChangeActiveTextEditor","editor","enableProblems","CustomBuildTaskProvider","workspaceRoot","this","getTasks","_task","definition","flavor","getTask","flags","undefined","tasks","forEach","flagGroup","type","CustomBuildScriptType","Task","TaskScope","Workspace","join","CustomExecution","CustomBuildTaskTerminal","sharedState","state","_flavor","getSharedState","setSharedState","writeEmitter","EventEmitter","onDidWrite","event","closeEmitter","onDidClose","_initialDimensions","indexOf","pattern","fileWatcher","workspace","createFileSystemWatcher","onDidChange","doBuild","onDidCreate","onDidDelete","dispose","Promise","resolve","fire","isIncremental","setTimeout","date","Date","toTimeString","toDateString","registerTaskProvider","rootPath","enableTasks","commands","executeCommand","Uri","parse","File","FileType","ctime","now","mtime","size","Directory","entries","Map","textEncoder","TextEncoder","root","_emitter","_bufferedEvents","onDidChangeFile","_textDecoder","TextDecoder","disposable","Disposable","from","registerFileSystemProvider","scheme","isCaseSensitive","registerFileSearchProvider","registerTextSearchProvider","createDirectory","dataPromise","getTreeData","then","data","writeFile","encode","overwrite","_lookup","entry","_lookupAsDirectory","result","child","_lookupAsFile","FileSystemError","FileNotFound","content","options","basename","_basename","path","parent","_lookupParentDirectory","FileIsADirectory","FileExists","_fireSoon","FileChangeType","Created","byteLength","Changed","oldUri","newUri","oldParent","newParent","newName","delete","Deleted","dirname","with","_dirname","has","silent","parts","split","part","FileNotADirectory","_resource","events","_fireSoonHandle","clearTimeout","length","_rtrim","substr","lastIndexOf","haystack","needle","needleLen","haystackLen","offset","idx","substring","files","Set","_doGetFiles","dir","add","replace","query","_options","_token","_findFiles","_getFiles","RegExp","_convertSimple2RegExpPattern","file","exec","progress","includes","lines","decode","readFile","line","index","report","ranges","preview","text","matches","limitHit","fetch","headers","accept","referrer","referrerPolicy","body","method","credentials","resp","json"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = require(\"vscode\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n//\n// ############################################################################\n//\n//\t\t\t\t\t\t! USED FOR RUNNING VSCODE OUT OF SOURCES FOR WEB !\n//\t\t\t\t\t\t\t\t\t\t! DO NOT REMOVE !\n//\n// ############################################################################\n//\n\nimport * as vscode from \"vscode\";\nimport { MemFS } from \"./memfs\";\n\ndeclare const navigator: unknown;\n\nexport function activate(context: vscode.ExtensionContext) {\n  if (typeof navigator === \"object\") {\n    // do not run under node.js\n    const memFs = enableFs(context);\n    memFs.seed();\n    enableProblems(context);\n    enableTasks();\n\n    vscode.commands.executeCommand(\n      \"vscode.open\",\n      vscode.Uri.parse(`memfs:/sample-folder/large.ts`)\n    );\n  }\n}\n\nfunction enableFs(context: vscode.ExtensionContext): MemFS {\n  const memFs = new MemFS();\n  context.subscriptions.push(memFs);\n\n  return memFs;\n}\n\nfunction enableProblems(context: vscode.ExtensionContext): void {\n  const collection = vscode.languages.createDiagnosticCollection(\"test\");\n  if (vscode.window.activeTextEditor) {\n    updateDiagnostics(vscode.window.activeTextEditor.document, collection);\n  }\n  context.subscriptions.push(\n    vscode.window.onDidChangeActiveTextEditor((editor) => {\n      if (editor) {\n        updateDiagnostics(editor.document, collection);\n      }\n    })\n  );\n}\n\nfunction updateDiagnostics(\n  document: vscode.TextDocument,\n  collection: vscode.DiagnosticCollection\n): void {\n  if (document && document.fileName === \"/sample-folder/large.ts\") {\n    collection.set(document.uri, [\n      {\n        code: \"\",\n        message: \"cannot assign twice to immutable variable `storeHouses`\",\n        range: new vscode.Range(\n          new vscode.Position(4, 12),\n          new vscode.Position(4, 32)\n        ),\n        severity: vscode.DiagnosticSeverity.Error,\n        source: \"\",\n        relatedInformation: [\n          new vscode.DiagnosticRelatedInformation(\n            new vscode.Location(\n              document.uri,\n              new vscode.Range(\n                new vscode.Position(1, 8),\n                new vscode.Position(1, 9)\n              )\n            ),\n            \"first assignment to `x`\"\n          ),\n        ],\n      },\n      {\n        code: \"\",\n        message: \"function does not follow naming conventions\",\n        range: new vscode.Range(\n          new vscode.Position(7, 10),\n          new vscode.Position(7, 23)\n        ),\n        severity: vscode.DiagnosticSeverity.Warning,\n        source: \"\",\n      },\n    ]);\n  } else {\n    collection.clear();\n  }\n}\n\nfunction enableTasks(): void {\n  interface CustomBuildTaskDefinition extends vscode.TaskDefinition {\n    /**\n     * The build flavor. Should be either '32' or '64'.\n     */\n    flavor: string;\n\n    /**\n     * Additional build flags\n     */\n    flags?: string[];\n  }\n\n  class CustomBuildTaskProvider implements vscode.TaskProvider {\n    static CustomBuildScriptType: string = \"custombuildscript\";\n    private tasks: vscode.Task[] | undefined;\n\n    // We use a CustomExecution task when state needs to be shared accross runs of the task or when\n    // the task requires use of some VS Code API to run.\n    // If you don't need to share state between runs and if you don't need to execute VS Code API in your task,\n    // then a simple ShellExecution or ProcessExecution should be enough.\n    // Since our build has this shared state, the CustomExecution is used below.\n    private sharedState: string | undefined;\n\n    constructor(private workspaceRoot: string) {}\n\n    async provideTasks(): Promise<vscode.Task[]> {\n      return this.getTasks();\n    }\n\n    resolveTask(_task: vscode.Task): vscode.Task | undefined {\n      const flavor: string = _task.definition.flavor;\n      if (flavor) {\n        const definition: CustomBuildTaskDefinition = <any>_task.definition;\n        return this.getTask(\n          definition.flavor,\n          definition.flags ? definition.flags : [],\n          definition\n        );\n      }\n      return undefined;\n    }\n\n    private getTasks(): vscode.Task[] {\n      if (this.tasks !== undefined) {\n        return this.tasks;\n      }\n      // In our fictional build, we have two build flavors\n      const flavors: string[] = [\"32\", \"64\"];\n      // Each flavor can have some options.\n      const flags: string[][] = [[\"watch\", \"incremental\"], [\"incremental\"], []];\n\n      this.tasks = [];\n      flavors.forEach((flavor) => {\n        flags.forEach((flagGroup) => {\n          this.tasks!.push(this.getTask(flavor, flagGroup));\n        });\n      });\n      return this.tasks;\n    }\n\n    private getTask(\n      flavor: string,\n      flags: string[],\n      definition?: CustomBuildTaskDefinition\n    ): vscode.Task {\n      if (definition === undefined) {\n        definition = {\n          type: CustomBuildTaskProvider.CustomBuildScriptType,\n          flavor,\n          flags,\n        };\n      }\n      return new vscode.Task(\n        definition,\n        vscode.TaskScope.Workspace,\n        `${flavor} ${flags.join(\" \")}`,\n        CustomBuildTaskProvider.CustomBuildScriptType,\n        new vscode.CustomExecution(async (): Promise<vscode.Pseudoterminal> => {\n          // When the task is executed, this callback will run. Here, we setup for running the task.\n          return new CustomBuildTaskTerminal(\n            this.workspaceRoot,\n            flavor,\n            flags,\n            () => this.sharedState,\n            (state: string) => (this.sharedState = state)\n          );\n        })\n      );\n    }\n  }\n\n  class CustomBuildTaskTerminal implements vscode.Pseudoterminal {\n    private writeEmitter = new vscode.EventEmitter<string>();\n    onDidWrite: vscode.Event<string> = this.writeEmitter.event;\n    private closeEmitter = new vscode.EventEmitter<void>();\n    onDidClose?: vscode.Event<void> = this.closeEmitter.event;\n\n    private fileWatcher: vscode.FileSystemWatcher | undefined;\n\n    constructor(\n      private workspaceRoot: string,\n      _flavor: string,\n      private flags: string[],\n      private getSharedState: () => string | undefined,\n      private setSharedState: (state: string) => void\n    ) {}\n\n    open(_initialDimensions: vscode.TerminalDimensions | undefined): void {\n      // At this point we can start using the terminal.\n      if (this.flags.indexOf(\"watch\") > -1) {\n        let pattern = this.workspaceRoot + \"/customBuildFile\";\n        this.fileWatcher = vscode.workspace.createFileSystemWatcher(pattern);\n        this.fileWatcher.onDidChange(() => this.doBuild());\n        this.fileWatcher.onDidCreate(() => this.doBuild());\n        this.fileWatcher.onDidDelete(() => this.doBuild());\n      }\n      this.doBuild();\n    }\n\n    close(): void {\n      // The terminal has been closed. Shutdown the build.\n      if (this.fileWatcher) {\n        this.fileWatcher.dispose();\n      }\n    }\n\n    private async doBuild(): Promise<void> {\n      return new Promise<void>((resolve) => {\n        this.writeEmitter.fire(\"Starting build...\\r\\n\");\n        let isIncremental = this.flags.indexOf(\"incremental\") > -1;\n        if (isIncremental) {\n          if (this.getSharedState()) {\n            this.writeEmitter.fire(\n              \"Using last build results: \" + this.getSharedState() + \"\\r\\n\"\n            );\n          } else {\n            isIncremental = false;\n            this.writeEmitter.fire(\n              \"No result from last build. Doing full build.\\r\\n\"\n            );\n          }\n        }\n\n        // Since we don't actually build anything in this example set a timeout instead.\n        setTimeout(\n          () => {\n            const date = new Date();\n            this.setSharedState(\n              date.toTimeString() + \" \" + date.toDateString()\n            );\n            this.writeEmitter.fire(\"Build complete.\\r\\n\\r\\n\");\n            if (this.flags.indexOf(\"watch\") === -1) {\n              this.closeEmitter.fire();\n              resolve();\n            }\n          },\n          isIncremental ? 1000 : 4000\n        );\n      });\n    }\n  }\n\n  vscode.tasks.registerTaskProvider(\n    CustomBuildTaskProvider.CustomBuildScriptType,\n    new CustomBuildTaskProvider(vscode.workspace.rootPath!)\n  );\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport {\n  CancellationToken,\n  Disposable,\n  Event,\n  EventEmitter,\n  FileChangeEvent,\n  FileChangeType,\n  FileSearchOptions,\n  FileSearchProvider,\n  FileSearchQuery,\n  FileStat,\n  FileSystemError,\n  FileSystemProvider,\n  FileType,\n  Position,\n  Progress,\n  ProviderResult,\n  Range,\n  TextSearchComplete,\n  TextSearchOptions,\n  TextSearchQuery,\n  TextSearchProvider,\n  TextSearchResult,\n  Uri,\n  workspace,\n} from \"vscode\";\nimport {\n  largeTSFile,\n  getImageFile,\n  debuggableFile,\n  windows1251File,\n  gbkFile,\n} from \"./exampleFiles\";\nimport { getTreeData } from \"./http\";\n\nexport class File implements FileStat {\n  type: FileType;\n  ctime: number;\n  mtime: number;\n  size: number;\n\n  name: string;\n  data?: Uint8Array;\n\n  constructor(public uri: Uri, name: string) {\n    this.type = FileType.File;\n    this.ctime = Date.now();\n    this.mtime = Date.now();\n    this.size = 0;\n    this.name = name;\n  }\n}\n\nexport class Directory implements FileStat {\n  type: FileType;\n  ctime: number;\n  mtime: number;\n  size: number;\n\n  name: string;\n  entries: Map<string, File | Directory>;\n\n  constructor(public uri: Uri, name: string) {\n    this.type = FileType.Directory;\n    this.ctime = Date.now();\n    this.mtime = Date.now();\n    this.size = 0;\n    this.name = name;\n    this.entries = new Map();\n  }\n}\n\nexport type Entry = File | Directory;\n\nconst textEncoder = new TextEncoder();\n\nexport class MemFS\n  implements\n    FileSystemProvider,\n    FileSearchProvider,\n    TextSearchProvider,\n    Disposable\n{\n  static scheme = \"memfs\";\n\n  private readonly disposable: Disposable;\n  private dataPromise: Promise<any> | undefined;\n\n  constructor() {\n    this.disposable = Disposable.from(\n      workspace.registerFileSystemProvider(MemFS.scheme, this, {\n        isCaseSensitive: true,\n      }),\n      workspace.registerFileSearchProvider(MemFS.scheme, this),\n      workspace.registerTextSearchProvider(MemFS.scheme, this)\n    );\n  }\n\n  dispose() {\n    this.disposable?.dispose();\n  }\n\n  seed() {\n    this.createDirectory(Uri.parse(`memfs:/sample-folder/`));\n    this.dataPromise = new Promise((resolve) => {\n      getTreeData().then((data = []) => {\n        data.forEach(([name, type]) => {\n          if (type === FileType.File) {\n            this.writeFile(\n              Uri.parse(`memfs:/${name}`),\n              textEncoder.encode('console.log(\"JavaScript\")'),\n              { create: true, overwrite: true }\n            );\n          } else {\n            this.createDirectory(Uri.parse(`memfs:/${name}`));\n          }\n        });\n\n        resolve(undefined);\n      });\n    });\n  }\n\n  root = new Directory(Uri.parse(\"memfs:/\"), \"\");\n\n  // --- manage file metadata\n\n  stat(uri: Uri): FileStat {\n    return this._lookup(uri, false);\n  }\n\n  async readDirectory(uri: Uri): Promise<[string, FileType][]> {\n    // Wait for data from API to be loaded before reading directory\n    await this.dataPromise;\n\n    const entry = this._lookupAsDirectory(uri, false);\n    let result: [string, FileType][] = [];\n    for (const [name, child] of entry.entries) {\n      result.push([name, child.type]);\n    }\n    return result;\n  }\n\n  // --- manage file contents\n\n  readFile(uri: Uri): Uint8Array {\n    const data = this._lookupAsFile(uri, false).data;\n    if (data) {\n      return data;\n    }\n    throw FileSystemError.FileNotFound();\n  }\n\n  writeFile(\n    uri: Uri,\n    content: Uint8Array,\n    options: { create: boolean; overwrite: boolean }\n  ): void {\n    let basename = this._basename(uri.path);\n    let parent = this._lookupParentDirectory(uri);\n    let entry = parent.entries.get(basename);\n    if (entry instanceof Directory) {\n      throw FileSystemError.FileIsADirectory(uri);\n    }\n    if (!entry && !options.create) {\n      throw FileSystemError.FileNotFound(uri);\n    }\n    if (entry && options.create && !options.overwrite) {\n      throw FileSystemError.FileExists(uri);\n    }\n    if (!entry) {\n      entry = new File(uri, basename);\n      parent.entries.set(basename, entry);\n      this._fireSoon({ type: FileChangeType.Created, uri });\n    }\n    entry.mtime = Date.now();\n    entry.size = content.byteLength;\n    entry.data = content;\n\n    this._fireSoon({ type: FileChangeType.Changed, uri });\n  }\n\n  // --- manage files/folders\n\n  rename(oldUri: Uri, newUri: Uri, options: { overwrite: boolean }): void {\n    if (!options.overwrite && this._lookup(newUri, true)) {\n      throw FileSystemError.FileExists(newUri);\n    }\n\n    let entry = this._lookup(oldUri, false);\n    let oldParent = this._lookupParentDirectory(oldUri);\n\n    let newParent = this._lookupParentDirectory(newUri);\n    let newName = this._basename(newUri.path);\n\n    oldParent.entries.delete(entry.name);\n    entry.name = newName;\n    newParent.entries.set(newName, entry);\n\n    this._fireSoon(\n      { type: FileChangeType.Deleted, uri: oldUri },\n      { type: FileChangeType.Created, uri: newUri }\n    );\n  }\n\n  delete(uri: Uri): void {\n    let dirname = uri.with({ path: this._dirname(uri.path) });\n    let basename = this._basename(uri.path);\n    let parent = this._lookupAsDirectory(dirname, false);\n    if (!parent.entries.has(basename)) {\n      throw FileSystemError.FileNotFound(uri);\n    }\n    parent.entries.delete(basename);\n    parent.mtime = Date.now();\n    parent.size -= 1;\n    this._fireSoon(\n      { type: FileChangeType.Changed, uri: dirname },\n      { uri, type: FileChangeType.Deleted }\n    );\n  }\n\n  createDirectory(uri: Uri): void {\n    let basename = this._basename(uri.path);\n    let dirname = uri.with({ path: this._dirname(uri.path) });\n    let parent = this._lookupAsDirectory(dirname, false);\n\n    let entry = new Directory(uri, basename);\n    parent.entries.set(entry.name, entry);\n    parent.mtime = Date.now();\n    parent.size += 1;\n    this._fireSoon(\n      { type: FileChangeType.Changed, uri: dirname },\n      { type: FileChangeType.Created, uri }\n    );\n  }\n\n  // --- lookup\n\n  private _lookup(uri: Uri, silent: false): Entry;\n  private _lookup(uri: Uri, silent: boolean): Entry | undefined;\n  private _lookup(uri: Uri, silent: boolean): Entry | undefined {\n    let parts = uri.path.split(\"/\");\n    let entry: Entry = this.root;\n    for (const part of parts) {\n      if (!part) {\n        continue;\n      }\n      let child: Entry | undefined;\n      if (entry instanceof Directory) {\n        child = entry.entries.get(part);\n      }\n      if (!child) {\n        if (!silent) {\n          throw FileSystemError.FileNotFound(uri);\n        } else {\n          return undefined;\n        }\n      }\n      entry = child;\n    }\n    return entry;\n  }\n\n  private _lookupAsDirectory(uri: Uri, silent: boolean): Directory {\n    let entry = this._lookup(uri, silent);\n    if (entry instanceof Directory) {\n      return entry;\n    }\n    throw FileSystemError.FileNotADirectory(uri);\n  }\n\n  private _lookupAsFile(uri: Uri, silent: boolean): File {\n    let entry = this._lookup(uri, silent);\n    if (entry instanceof File) {\n      return entry;\n    }\n    throw FileSystemError.FileIsADirectory(uri);\n  }\n\n  private _lookupParentDirectory(uri: Uri): Directory {\n    const dirname = uri.with({ path: this._dirname(uri.path) });\n    return this._lookupAsDirectory(dirname, false);\n  }\n\n  // --- manage file events\n\n  private _emitter = new EventEmitter<FileChangeEvent[]>();\n  private _bufferedEvents: FileChangeEvent[] = [];\n  private _fireSoonHandle?: any;\n\n  readonly onDidChangeFile: Event<FileChangeEvent[]> = this._emitter.event;\n\n  watch(_resource: Uri): Disposable {\n    // ignore, fires for all changes...\n    return new Disposable(() => {});\n  }\n\n  private _fireSoon(...events: FileChangeEvent[]): void {\n    this._bufferedEvents.push(...events);\n\n    if (this._fireSoonHandle) {\n      clearTimeout(this._fireSoonHandle);\n    }\n\n    this._fireSoonHandle = setTimeout(() => {\n      this._emitter.fire(this._bufferedEvents);\n      this._bufferedEvents.length = 0;\n    }, 5);\n  }\n\n  // --- path utils\n\n  private _basename(path: string): string {\n    path = this._rtrim(path, \"/\");\n    if (!path) {\n      return \"\";\n    }\n\n    return path.substr(path.lastIndexOf(\"/\") + 1);\n  }\n\n  private _dirname(path: string): string {\n    path = this._rtrim(path, \"/\");\n    if (!path) {\n      return \"/\";\n    }\n\n    return path.substr(0, path.lastIndexOf(\"/\"));\n  }\n\n  private _rtrim(haystack: string, needle: string): string {\n    if (!haystack || !needle) {\n      return haystack;\n    }\n\n    const needleLen = needle.length,\n      haystackLen = haystack.length;\n\n    if (needleLen === 0 || haystackLen === 0) {\n      return haystack;\n    }\n\n    let offset = haystackLen,\n      idx = -1;\n\n    while (true) {\n      idx = haystack.lastIndexOf(needle, offset - 1);\n      if (idx === -1 || idx + needleLen !== offset) {\n        break;\n      }\n      if (idx === 0) {\n        return \"\";\n      }\n      offset = idx;\n    }\n\n    return haystack.substring(0, offset);\n  }\n\n  private _getFiles(): Set<File> {\n    const files = new Set<File>();\n\n    this._doGetFiles(this.root, files);\n\n    return files;\n  }\n\n  private _doGetFiles(dir: Directory, files: Set<File>): void {\n    dir.entries.forEach((entry) => {\n      if (entry instanceof File) {\n        files.add(entry);\n      } else {\n        this._doGetFiles(entry, files);\n      }\n    });\n  }\n\n  private _convertSimple2RegExpPattern(pattern: string): string {\n    return pattern\n      .replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, \"\\\\$&\")\n      .replace(/[\\*]/g, \".*\");\n  }\n\n  // --- search provider\n\n  provideFileSearchResults(\n    query: FileSearchQuery,\n    _options: FileSearchOptions,\n    _token: CancellationToken\n  ): ProviderResult<Uri[]> {\n    return this._findFiles(query.pattern);\n  }\n\n  private _findFiles(query: string | undefined): Uri[] {\n    const files = this._getFiles();\n    const result: Uri[] = [];\n\n    const pattern = query\n      ? new RegExp(this._convertSimple2RegExpPattern(query))\n      : null;\n\n    for (const file of files) {\n      if (!pattern || pattern.exec(file.name)) {\n        result.push(file.uri);\n      }\n    }\n\n    return result;\n  }\n\n  private _textDecoder = new TextDecoder();\n\n  provideTextSearchResults(\n    query: TextSearchQuery,\n    options: TextSearchOptions,\n    progress: Progress<TextSearchResult>,\n    _token: CancellationToken\n  ) {\n    const result: TextSearchComplete = { limitHit: false };\n\n    const files = this._findFiles(options.includes[0]);\n    if (files) {\n      for (const file of files) {\n        const content = this._textDecoder.decode(this.readFile(file));\n\n        const lines = content.split(\"\\n\");\n        for (let i = 0; i < lines.length; i++) {\n          const line = lines[i];\n          const index = line.indexOf(query.pattern);\n          if (index !== -1) {\n            progress.report({\n              uri: file,\n              ranges: new Range(\n                new Position(i, index),\n                new Position(i, index + query.pattern.length)\n              ),\n              preview: {\n                text: line,\n                matches: new Range(\n                  new Position(0, index),\n                  new Position(0, index + query.pattern.length)\n                ),\n              },\n            });\n          }\n        }\n      }\n    }\n\n    return result;\n  }\n}\n\nfunction randomData(lineCnt: number, lineLen = 155): Uint8Array {\n  let lines: string[] = [];\n  for (let i = 0; i < lineCnt; i++) {\n    let line = \"\";\n    while (line.length < lineLen) {\n      line += Math.random()\n        .toString(2 + (i % 34))\n        .substr(2);\n    }\n    lines.push(line.substr(0, lineLen));\n  }\n  return textEncoder.encode(lines.join(\"\\n\"));\n}\n","export function getTreeData() {\n  return fetch(\n    \"http://localhost:3000/static/devextensions/src/mock/treeData.json\",\n    {\n      headers: {\n        accept: \"*/*\",\n        \"accept-language\": \"zh-CN,zh;q=0.9\",\n        \"if-modified-since\": \"Wed, 21 Jun 2023 03:17:55 GMT\",\n        \"sec-ch-ua\": '\"Chromium\";v=\"115\", \"Not/A)Brand\";v=\"99\"',\n        \"sec-ch-ua-mobile\": \"?0\",\n        \"sec-ch-ua-platform\": '\"macOS\"',\n        \"sec-fetch-dest\": \"empty\",\n        \"sec-fetch-mode\": \"cors\",\n        \"sec-fetch-site\": \"same-origin\",\n      },\n      referrer: \"http://localhost:3000/\",\n      referrerPolicy: \"strict-origin-when-cross-origin\",\n      body: null,\n      method: \"GET\",\n      mode: \"cors\",\n      credentials: \"omit\",\n    }\n  ).then((resp) => resp.json());\n}\n"],"sourceRoot":""}